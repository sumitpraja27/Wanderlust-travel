<% layout('/layouts/boilerplate') %>

  <main class="packing-list-form-container" style=" background: linear-gradient(
    135deg, 
    rgba(50, 135, 192, 0.9), 
    rgba(17, 35, 68, 0.9), 
    rgba(4, 134, 121, 0.9)
  );
; border-radius: 5px;">
    <div class="packing-list-header" style="-webkit-text-fill-color: aliceblue;">
      <h1 style = "-webkit-text-fill-color: white;">ğŸ§³ AI-Powered Packing List Generator </h1>
      <p>Get a personalized packing checklist tailored to your trip with AI assistance and weather insights.</p>
    </div>

    <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
      <div class="error-messages">
        <ul>
          <% errors.forEach(error => { %>
            <li><%= error %></li>
          <% }) %>
        </ul>
      </div>
    <% } %>

    <form action="/packing-list/generate" method="POST" class="packing-list-form">
      <div class="form-group"style = "background: rgb(143, 200, 243)">
        <label for="destination">ğŸŒ Destination:</label>
        <input type="text"
               id="destination"
               name="destination"
               required
               placeholder="e.g., Paris, Tokyo, Goa"
               value="<%= typeof formData !== 'undefined' ? formData.destination : '' %>">
      </div>

      <div class="form-group" style = "background: rgb(143, 200, 243)">
        <label for="duration">ğŸ“… Trip Duration (days):</label>
        <input type="number"
               id="duration"
               name="duration"
               min="1"
               max="365"
               required
               placeholder="e.g., 7"
               value="<%= typeof formData !== 'undefined' ? formData.duration : '' %>">
      </div>

      <div class="form-group"style = "background: rgb(143, 200, 243)">
        <label for="travelType">ğŸ‘¥ Travel Type:</label>
        <select id="travelType" name="travelType" required>
          <option value="">Select travel type</option>
          <option value="solo" <%= typeof formData !== 'undefined' && formData.travelType === 'solo' ? 'selected' : '' %>>Solo Traveler</option>
          <option value="couple" <%= typeof formData !== 'undefined' && formData.travelType === 'couple' ? 'selected' : '' %>>Couple</option>
          <option value="family" <%= typeof formData !== 'undefined' && formData.travelType === 'family' ? 'selected' : '' %>>Family</option>
          <option value="group" <%= typeof formData !== 'undefined' && formData.travelType === 'group' ? 'selected' : '' %>>Group/Friends</option>
        </select>
      </div>

      <div class="form-group"style = "background: rgb(143, 200, 243)">
        <label>ğŸ¯ Planned Activities:</label>
        <div class="activities-grid">
          <% const activityOptions = [
            { value: 'beach', label: 'Beach & Swimming', icon: 'ğŸ–ï¸' },
            { value: 'trekking', label: 'Trekking & Hiking', icon: 'ğŸ¥¾' },
            { value: 'city_tour', label: 'City Sightseeing', icon: 'ğŸ™ï¸' },
            { value: 'cultural', label: 'Cultural Sites', icon: 'ğŸ›ï¸' },
            { value: 'business', label: 'Business Meetings', icon: 'ğŸ’¼' },
            { value: 'religious', label: 'Religious Sites', icon: 'ğŸ™' },
            { value: 'adventure', label: 'Adventure Sports', icon: 'ğŸ‚' },
            { value: 'food', label: 'Food & Cuisine', icon: 'ğŸ½ï¸' },
            { value: 'photography', label: 'Photography', icon: 'ğŸ“¸' },
            { value: 'shopping', label: 'Shopping', icon: 'ğŸ›ï¸' },
            { value: 'spa', label: 'Spa & Relaxation', icon: 'ğŸ§˜' },
            { value: 'nightlife', label: 'Nightlife', icon: 'ğŸŒƒ' }
          ] %>

          <% activityOptions.forEach(activity => { %>
            <label class="activity-option">
              <input type="checkbox"
                     name="activities"
                     value="<%= activity.value %>"
                     <%= typeof formData !== 'undefined' && formData.activities && formData.activities.includes(activity.value) ? 'checked' : '' %>>
              <span class="activity-label">
                <%= activity.icon %> <%= activity.label %>
              </span>
            </label>
          <% }) %>
        </div>
      </div>

      <button type="submit" class="generate-btn">
        ğŸ¤– Generate My Packing List
      </button>
    </form>

    <div class="features-preview">
      <h3 style = "-webkit-text-fill-color: aliceblue;">âœ¨ What You'll Get:</h3>
      <div class="features-grid">
        <div class="feature-item">
          <span class="feature-icon">ğŸ§ </span>
          <span>AI-powered recommendations</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸŒ¤ï¸</span>
          <span>Weather-adjusted suggestions</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ“‹</span>
          <span>Categorized checklist</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ’¾</span>
          <span>Save to My Trips</span>
        </div>
      </div>
    </div>
  </main>
